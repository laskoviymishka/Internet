@model IEnumerable<Internet.Models.Question>

@{
    ViewBag.Title = "Все вопросы";
}

<h2>Все вопросы</h2>

<p>
    @Html.ActionLink("Создать новый вопрос", "Create", new { id = ViewData["ANSWER_ID"] }, new { @class = "btn btn-mini" }) |
    <a href = "@Url.Content("~/Test/Index/")" class = "btn btn-mini "> Назад ко всем тестам</a>
</p>
<table class="table table-striped table-bordered table-condensed">
    <tr>
        <th>
            Текст вопроса
        </th>
        <th>
            Название теста
        </th>
        <th>
            Тип вопроса
        </th>
        <th>
            Ответ
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.QuestionBody)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Test.TestName)
        </td>
        <td>
           @switch (item.QuestionType) 
           {
               case 1:<p>Один правильный вариант</p>
                   break;
               case 2:<p>Много правильных вариантов</p>
                   break;
               case 3:<p>Ввод текста</p>
                   break;
           }           
        </td>
        <td>
            @foreach(var answer in item.Answers)
                    {
                         <p>@Html.DisplayFor(ans => answer.IsRight)   @answer.AnswerBody </p>
                    }
        </td>
        <td>
            <p>@Html.ActionLink("Редактировать поля вопроса", "Edit", new { id = item.ID },new { @class = "btn btn-mini btn-info" })</p> 
            
             <p><a href = "@Url.Content("~/Answer/Index/" + item.ID.ToString())" class = "btn btn-mini btn-info">К вариантам ответа на вопрос</a></p>
             <p>@Html.ActionLink("Удалить вопрос", "Delete", new { id = item.ID }, new { @class = "btn btn-mini btn-danger" }) </p>
        </td>
    </tr>
}

</table>
